
 ttl System Initialize & Cleanup
 pag

*
* initialize system
*

cinit ldx #lnktab
 stx nxtlnk
 ldx #dimstk init dim stack
 stx nxtdim
 leax symtab,pcr
 stx nxtsym
 leax strtab,pcr
 stx nxtstr
 leax fortab,pcr set for stack
 stx nxtfor
 ldx #frctab
 stx nxtfrc
 leax symtab,pcr
 stx nxtsym
 leax sutab,pcr
 stx nxtsu
 ldd #0 clear variables
 sta actary
 sta aofchr
 sta cspace
 sta inaflg
 sta contyp
 sta swflag
 sta token
 sta char
 sta blklev
 sta strflg
 sta absflg
 sta strflg
 std toktyp
 std brklab
 std conlab
 std deflab
 std labels
 ldd #0
 std lincnt
 ldd #10000
 std label1
 ldd #20000
 std label2
 ldd #30000
 std label3
 ldd #swttab
 std nxtsw
 leax symtab,pcr clear symbol tables
2 clr 0,x+
 cmpx #sutab+SYMSIZ*SUSIZ
 bne 2b
 rts

*
* System cleanup
*

clnup rts ***************************


