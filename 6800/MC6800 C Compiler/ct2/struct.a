 text
* struct aa {
*   int q1;
*   int *q2;
*   struct bb {
*     int gg;
*     struct cc {
*      int hh;
*      int jj;
*     } s5;
*     int ii;
*   } s6;
*   int yy;} s3;
* 
* main() {
 global main
main
 pshs y,u
 jmp 1f
2
*   int a,b;
*   struct st {
*     int a1;
*     int a2;
*     int *a3; };
*   struct st s;
*   struct st *s2;
*   int *p;
* 
*   a=s.a2 + 10;
 leas -14,s
 leax 4,s
 ldd 2,x
 addd #10
 std 12,s
*   a=s2->a2 + 20;
 ldx 2,s
 ldd 2,x
 addd #20
 std 12,s
*   a=s3.s6.s5.jj + 10;
 ldx #s3
 ldd 8,x
 addd #10
 std 12,s
*   a=b.a2;
 leax 10,s
 ldd 2,x
 std 12,s
*   a=p->a2;
 ldx ,s
 ldd 2,x
 std 12,s
*   a=100->a2;
 ldx #102
 ldd ,x
 std 12,s
* }
 leas 14,s
 puls y,u,pc

1 ldd #-142
 jsr _stkcheck
 jmp 2b


 bss
 name struct_c
 define
s3 rmb 14
 enddef
