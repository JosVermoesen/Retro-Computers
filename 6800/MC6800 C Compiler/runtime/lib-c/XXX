 leau 1,u point to pw
 ldx #pwbuf point to buffer
 pshs x,u set up for crypt
 lbsr crypt do encryption
 leas 4,s clean up stack
 ldx #pwbuf point to pw
 puls u point to buffer
 ldb #8 set count
 pshs b save count
getpw4 lda 0,x get char
 anda #$f mask lo bits
 adda #'k make a letter
 sta 0,u+ save it
 lda 0,x+ get byte again
 lsra get hi 4 bits
 lsra
 lsra
 lsra
 adda #'a make a letter
 sta 0,u+ save it
 dec 0,s dec the count
 bne getpw4
 clr 0,u set null term
 puls b
 clz
 rts return

