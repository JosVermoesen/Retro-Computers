* long multiply routine

 name Long_Mul

* temp storage

 bss

mrslt rmb 4
mret rmb 2

 text

* long multiply

 global mullong,umullong
umullong
mullong pshs d
 ldd #0
 std mrslt
 lda 11,s
 ldb 7,s
 mul
 std mrslt+2
 lda 11,s
 ldb 6,s
 mul
 addd mrslt+1
 std mrslt+1
 bcc 1f
 inc mrslt
1 lda 10,s
 ldb 7,s
 mul
 addd mrslt+1
 std mrslt+1
 bcc 2f
 inc mrslt
2 lda 11,s
 ldb 5,s
 mul
 addd mrslt
 std mrslt
 lda 10,s
 ldb 6,s
 mul
 addd mrslt
 std mrslt
 lda 9,s
 ldb 7,s
 mul
 addd mrslt
 std mrslt
 lda 11,s
 ldb 4,s
 mul
 addb mrslt
 stb mrslt
 lda 10,s
 ldb 5,s
 mul
 addb mrslt
 stb mrslt
 lda 9,s
 ldb 6,s
 mul
 addb mrslt
 stb mrslt
 lda 8,s
 ldb 7,s
 mul
 addb mrslt
 stb mrslt
 ldd mrslt
 std 8,s
 ldd mrslt+2
 std 10,s
 ldd 2,s
 std mret
 puls d
 leas 6,s
 jmp [mret]

