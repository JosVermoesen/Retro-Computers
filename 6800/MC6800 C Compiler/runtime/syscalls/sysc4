* system calls - file 4

 name Syscals4

 text

 ext _errno,ret3,ret3a,ret5,ret5a

 lib sysdef

* EXECV(path, argv)

 global _execv
_execv ldd 4,s
 pshs d
 ldd 4,s
 pshs d
 ldb #exec
 pshs b
 leax 0,s
 sys indx
 std _errno
 leas 5,s
 ldd #-1
 rts

* EXECL(path, arg0, arg1, ...)

 global _execl
_execl leax 4,s
 pshs x
 ldd 4,s
 pshs d
 ldb #exec
 pshs b
 leax 0,s
 sys indx
 std _errno
 leas 5,s
 ldd #-1
 rts

* FORK()

  global _fork
_fork  sys fork
  bra 2f
  bec 1f
  std _errno
  ldd #-1
1 rts
2 ldd #0
  rts


* VFORK()

  global _vfork
_vfork equ _fork

