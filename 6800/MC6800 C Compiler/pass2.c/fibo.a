 text
* main() {
 global main
main
 pshs y,u
*   int i;
*   unsigned value, fib();
* 
*   for (i=1; i<=10; i++)
 leas -4,s
 ldd #1
 std 2,s
_3
 ldd 2,s
 cmpd #10
 lbgt _2
*     value = fib(24);
_1
 ldd #24
 pshs d
 jsr fib
 leas 2,s
 std ,s
* }
_4
 ldd 2,s
 addd #1
 std 2,s
 jmp _3
_2
 leas 4,s
 puls y,u,pc

* 
* unsigned fib(x)
* int x;
* {
 global fib
fib
 pshs y,u
*   if (x>2)
*     return(fib(x-1) + fib(x-2));
 ldd 6,s
 cmpd #2
 lble _6
_5
 ldd 6,s
 addd #-1
 pshs d
 jsr fib
 leas 2,s
 pshs d
 ldd 8,s
 addd #-2
 pshs d
 jsr fib
 leas 2,s
 addd ,s++
 puls y,u,pc

*   else
*     return(1);
 jmp _7
_6
 ldd #1
 puls y,u,pc

* }
_7
 puls y,u,pc

 bss
 name fibo_c
