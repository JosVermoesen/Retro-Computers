 text
* main() {
 global main
main
 pshs y,u
 jmp 1f
2
*   int a,b,c;
*   int ar[10][10];
*   int *p;
*   b = 1;
 leas -208,s
 ldd #1
 std 204,s
*   *p = 1;
 ldd #1
 std [,s]
*   for(c=0; c<10000; c++)
 clra
 clrb
 std 202,s
_3
 ldd 202,s
 cmpd #10000
 lbge _2
*     a = ar[b][*p + fun(1)];
_1
 ldd 204,s
 pshs d
 ldd #20
 jsr ccmult
 leax 2,s
 leax d,x
 tfr x,d
 pshs d
 ldd #1
 pshs d
 jsr fun
 leas 2,s
 addd [2,s]
 aslb
 rola
 addd ,s++
 tfr d,x
 ldd ,x
 std 206,s
* }
_4
 ldd 202,s
 addd #1
 std 202,s
 jmp _3
_2
 leas 208,s
 puls y,u,pc

1 ldd #-346
 jsr _stkcheck
 jmp 2b


* 
* fun(a) {
 global fun
fun
 pshs y,u
 jmp 1f
2
*   int b,c,d;
*   c = 1;
 leas -6,s
 ldd #1
 std 2,s
*   return (b = a ? c : d);
 ldd 12,s
 lbeq _5
_6
 ldd 2,s
 jmp _7
_5
 ldd ,s
_7
 std 4,s
 leas 6,s
 puls y,u,pc

* }
1 ldd #-134
 jsr _stkcheck
 jmp 2b


 bss
 name t8_c
