 name p1-mod.c
 text
 global _domodul
_domodul pshs u,y
 leay 2,s
 leas -L2,s
* Auto 4 name
* Begin expression - 36
 ldd #0
 std _fpvars
 stb _nokey
* Begin expression - 37
 ldd #144
 std 0,s
 ldx 4,y
 pshs x
 ldd #157
 pshs d
 ldx #L3
 pshs x
 jsr _outil
 leas 6,s
* Begin expression - 38
 jsr _program
* Begin expression - 39
 ldd _fpvars
 lbeq L4
* Begin expression - 40
 ldd #152
 std 0,s
 ldx #L5
 pshs x
 jsr _outil
 leas 2,s
L4
* Begin expression - 41
 jsr _outinfo
* Begin expression - 42
 jsr _flstr
* Begin expression - 43
 ldd #158
 std 0,s
 ldx #L6
 pshs x
 jsr _outil
 leas 2,s
L1
L2 equ 2
 leas -2,y
 puls y,u,pc
 global _program
_program pshs u,y
 leay 2,s
 leas -L8,s
* Begin expression - 50
 ldb #0
 stb _rtexp
 stb _swexp
L9
* Begin expression - 51
 jsr _getok
 cmpd #-1
 lbeq L10
* Begin expression - 52
 jsr _extdef
 cmpd #0
 lbne L11
* Begin expression - 53
 ldd #0
 std _curtok
L11
 lbra L9
L10
L7
L8 equ 2
 leas -2,y
 puls y,u,pc
 global _extdef
_extdef pshs u,y
 leay 2,s
 leas -L13,s
* Begin expression - 61
 clr _blklev
* Begin expression - 62
 ldx #_stinfo
 stx _ptinfo
* Begin expression - 63
 ldb #0
 stb _deftyp
 sex
 std _dtype
 stb _dclass
* Begin expression - 64
 ldx #0
 stx _typdfsy
* Begin expression - 65
 jsr _tstcls
 cmpd #0
 lbeq L14
* Begin expression - 66
 ldb _dclass
 cmpb #4
 beq 10f
 cmpb #2
 beq 10f
 cmpb #5
 bne 1f
10
 ldd #1
 bra 2f
1 ldd #0
2
 lbne L15
* Begin expression - 67
 ldd #1
 std 0,s
 jsr _rpters
L15
L14
* Begin expression - 68
 jsr _tsttyp
 cmpd #0
 lbeq L16
* Begin expression - 69
 jsr _type
 cmpd #0
 lbne L17
* Begin expression - 70
 ldd #0
 lbra L12
L17
L16
* Begin expression - 71
 jsr _getok
 cmpd #1
 lbeq L18
* Begin expression - 72
 jsr _dodec
 cmpd #0
 lbne L19
* Begin expression - 73
 ldd #0
 lbra L12
L19
* Begin expression - 74
 jsr _getok
 cmpd #80
 lbne L20
* Begin expression - 75
 ldb _dclass
 cmpb #4
 lbne L21
* Begin expression - 76
 ldd #68
 std 0,s
 jsr _rptern
 lbra L12
L21
* Begin expression - 77
 jsr _doinit
 cmpd #0
 lbne L22
* Begin expression - 78
 ldd #0
 lbra L12
L22
L20
* Begin expression - 80
 jsr _getok
 cmpd #1
 lbeq L23
* Begin expression - 81
 ldd _curtok
 cmpd #105
 lbeq L24
* Begin expression - 82
 ldb _fndcf
 lbne L25
* Begin expression - 83
 ldd #8
 std 0,s
 jsr _rptern
 lbra L12
L25
* Begin expression - 85
 jsr _funbod
 lbra L12
L26
 lbra L27
L24
* Begin expression - 87
 ldd #0
 std _curtok
* Begin expression - 88
 ldb _pmlsf
 lbeq L28
* Begin expression - 89
 ldd #9
 std 0,s
 jsr _rptern
 lbra L12
L28
* Begin expression - 90
 jsr _dctlst
 cmpd #0
 lbne L29
* Begin expression - 91
 ldd #0
 lbra L12
L29
* Begin expression - 92
 jsr _getok
 cmpd #1
 lbeq L30
* Begin expression - 93
 ldd #10
 std 0,s
 jsr _rptern
 lbra L12
L30
* Begin expression - 94
 ldd #0
 std _curtok
* Begin expression - 95
 ldd #1
 lbra L12
L27
L23
 lbra L31
L18
* Begin expression - 100
 ldb _dclass
 cmpb #5
 lbne L32
* Begin expression - 101
 ldd #4
 std 0,s
 jsr _rptern
L32
L31
* Begin expression - 103
 ldd #0
 std _curtok
* Begin expression - 104
 ldb _pmlsf
 lbeq L33
* Begin expression - 105
 ldd #9
 std 0,s
 jsr _rptern
 lbra L12
L33
* Begin expression - 107
 ldd #1
 lbra L12
L34
L12
L13 equ 2
 leas -2,y
 puls y,u,pc
 global _funbod
_funbod pshs u,y
 leay 2,s
 leas -L36,s
* Auto -4 fsize
* Begin expression - 115
 ldd _label
 addd #1
 std _label
 std _retlab
* Begin expression - 116
 ldd _label
 addd #1
 std _label
 std _hdrlab
* Begin expression - 117
 ldd #-2
 std _nxtaut
* Begin expression - 118
 ldb #1
 stb _blklev
* Begin expression - 119
 ldx #_frctab
 stx _nxtfrc
* Begin expression - 120
 ldx #_fortab
 stx _nxtfor
* Begin expression - 121
 jsr _outtext
* Begin expression - 122
 ldb _dclass
 cmpb #5
 lbne L37
* Begin expression - 123
 ldd #59
 std 0,s
 jsr _rptern
L37
* Begin expression - 124
 ldx _funnam
 ldb 3,x
 sex
 clra
 andb #$2
 lbne L38
* Begin expression - 125
 ldx _funnam
 ldx 4,x
 stx 0,s
 jsr _outglob
 lbra L39
L38
* Begin expression - 127
 ldx _funnam
 ldb #4
 stb 2,x
L39
* Begin expression - 128
 ldx _funnam
 ldd 0,x
 std 0,s
 jsr _remvlev
 std _funtype
* Begin expression - 129
 ldb _strnum
 stb _funnum
* Begin expression - 130
 ldd _funtype
 cmpd #11
 beq 11f
 cmpd #12
 beq 11f
 cmpd #13
10
 lbne L40
11
* Begin expression - 131
 ldd _funtype
 std 0,s
 jsr _patsize
 std -4,y
 lbra L41
L40
* Begin expression - 133
 ldd #0
 std -4,y
L41
* Begin expression - 134
 ldd -4,y
 std 0,s
 ldx _funnam
 ldx 4,x
 pshs x
 ldd #137
 pshs d
 ldx #L42
 pshs x
 jsr _outil
 leas 6,s
* Begin expression - 135
 ldd _hdrlab
 std 0,s
 ldd #155
 pshs d
 ldx #L43
 pshs x
 jsr _outil
 leas 4,s
* Begin expression - 136
 jsr _argdec
 cmpd #0
 lbne L44
* Begin expression - 137
 jsr _eatsc
L44
* Begin expression - 138
 jsr _outprms
* Begin expression - 139
 jsr _cmpstm
 cmpd #0
 lbne L45
* Begin expression - 140
 ldx _lab_tab
 leax 2,x
 stx 0,s
 ldx _lab_tab
 ldx 0,x
 stx [0,s]
* Begin expression - 141
 ldd _argoff
 std 0,s
 jsr _exitblc
* Begin expression - 142
 ldd #0
 lbra L35
L45
* Begin expression - 144
 jsr _getok
 cmpd #1
 lbne L46
* Begin expression - 145
 ldd #0
 std _curtok
L46
* Begin expression - 146
 jsr _outtext
* Begin expression - 147
 ldd _addrreg
 tfr b,a
 clrb
 std 0,s
 ldd _datareg
 ora 0,s
 orb 1,s
 std 0,s
 ldd _funtype
 pshs d
 ldd #138
 pshs d
 ldx #L47
 pshs x
 jsr _outil
 leas 6,s
* Begin expression - 148
 jsr _chklbls
* Begin expression - 149
 ldd _argoff
 std 0,s
 jsr _exitblc
* Begin expression - 150
 ldd #1
L35
L36 equ 4
 leas -2,y
 puls y,u,pc
 global _outprms
_outprms pshs u,y
 leay 2,s
 leas -L49,s
L50
* Begin expression - 156
 ldx _argptr
 cmpx _endprms
 lbeq L51
* Begin expression - 157
 ldx _argptr
 leax 18,x
 stx _argptr
 leax -18,x
 stx _symloc
* Begin expression - 158
 ldx _symloc
 ldb 2,x
 cmpb #1
 lbne L52
* Begin expression - 159
 jsr _outautd
 lbra L53
L52
* Begin expression - 161
 ldx _symloc
 ldb 2,x
 cmpb #3
 lbne L54
* Begin expression - 162
 ldx _symloc
 stx 0,s
 jsr _gnldreg
* Begin expression - 163
 ldx _symloc
 stx 0,s
 jsr _outregd
L54
L53
 lbra L50
L51
L48
L49 equ 2
 leas -2,y
 puls y,u,pc
 global _chklbls
_chklbls pshs u,y
 leay 2,s
 leas -L56,s
* Register 128 p
* Begin expression - 173
 ldx _lab_tab
 ldu 0,x
L57
* Begin expression - 173
 ldx _lab_tab
 ldx 2,x
 stu 0,s
 cmpx 0,s
 lble L58
* Begin expression - 174
 ldb 3,u
 sex
 clra
 andb #$1
 lbne L60
* Begin expression - 175
 stu _symloc
* Begin expression - 176
 ldd #106
 std 0,s
 jsr _rpters
L60
L59
* Begin expression - 178
 leau 18,u
 lbra L57
L58
* Begin expression - 179
 ldx _lab_tab
 leax 2,x
 stx 0,s
 ldx _lab_tab
 ldx 0,x
 stx [0,s]
L55
L56 equ 2
 leas -2,y
 puls y,u,pc
 global _outinfo
_outinfo pshs u,y
 leay 2,s
 leas -L62,s
* Auto -4 p
* Begin expression - 188
 jsr _get_inf
 tfr d,x
 stx -4,y
 lbeq L63
* Begin expression - 189
 ldx -4,y
 stx 0,s
 ldd #153
 pshs d
 ldx #L64
 pshs x
 jsr _outil
 leas 4,s
L63
L61
L62 equ 4
 leas -2,y
 puls y,u,pc
 data
L3 fcb 37,99,37,48,115,37,99,0
L5 fcb 37,99,0
L6 fcb 37,99,0
L42 fcb 37,99,95,37,110,37,114,0
L43 fcb 37,99,37,114,0
L47 fcb 37,99,37,114,37,114,0
L64 fcb 37,99,37,48,115,0
 text
 end
