 name subs.c
 text
 data
 global _d_error
_d_error fdb 0
 global _comtab
_comtab fdb L1,_define
 fdb L2,_include
 fdb L3,_info
 fdb L4,_info
 fdb L5,_line_co
 fdb L6,_undef
 fdb 0,0,0,0
 global _iftab
_iftab fdb L7,_ifexpr
 fdb L8,_ifdef
 fdb L9,_ifndef
 fdb L10,_else_co
 fdb L11,_endif
 fdb 0,0,0,0
 text
 global _aname
_aname pshs u,y
 leay 2,s
 leas -L13,s
* Begin expression - 0
 ldu 4,y
* Register 128 tp
* Auto 6 p
* Auto -4 chrcnt
* Auto -5 chr
* Auto -7 cp
* Begin expression - 72
 ldx 6,u
 stx 4,u
 stx -7,y
* Begin expression - 73
 ldd #0
 std -4,y
L14
* Begin expression - 75
 ldx -7,y
 ldb 0,x+
 stx -7,y
 stb -5,y
* Begin expression - 76
 inc -3,y
 bne 1f
 inc -4,y
1
* Begin expression - 77
 ldb -5,y
 cmpb #95
 beq 10f
 ldx #__chcode
 ldb b,x
 sex
 clra
 andb #$6
 beq 11f
10
 ldd #1
 bra 13f
11
 ldb -5,y
 ldx #__chcode
 ldb b,x
 sex
 clra
 andb #$8
 beq 13f
 ldd #2
 bra 14f
13
 ldd #0
14
0
 std _class
 lbeq L17
* Begin expression - 78
 ldd -4,y
 cmpd #9
 lbge L18
* Begin expression - 78
 ldb -5,y
 ldx 6,y
 stb 0,x+
 stx 6,y
L18
L17
L15
* Begin expression - 79
 ldd _class
 lbeq L16
 ldx 2,u
 cmpx -7,y
10
 lbgt L14
L16
* Begin expression - 80
 clr [6,y]
* Begin expression - 81
 ldd _class
 bne 10f
 ldx -7,y
 leax -1,x
 bra 11f
10
 ldx -7,y
11
 stx 4,u
L12
L13 equ 7
 leas -2,y
 puls y,u,pc
 global _command
_command pshs u,y
 leay 2,s
 leas -L20,s
* Auto -11 cname
* Auto -13 fp
* Begin expression - 96
 ldx _rline
 leax 6,x
 stx 0,s
 ldx _rline
 ldx 0,x
 leax 1,x
 stx [0,s]
L21
* Begin expression - 97
 ldx _rline
 ldb [6,x]
 cmpb #32
 beq 11f
 ldx _rline
 ldb [6,x]
 cmpb #9
10
 lbne L22
11
* Begin expression - 97
 ldx _rline
 leax 6,x
 stx 0,s
 ldx [0,s]
 leax 1,x
 stx [0,s]
 lbra L21
L22
* Begin expression - 98
 ldx _rline
 ldb [6,x]
 cmpb #13
 lbeq L23
* Begin expression - 99
 leax -11,y
 stx 0,s
 ldx _rline
 pshs x
 jsr _aname
 leas 2,s
* Begin expression - 100
 leax -11,y
 stx 0,s
 ldx #_comtab
 pshs x
 jsr _find_co
 tfr d,x
 leas 2,s
 stx -13,y
 lbeq L24
* Begin expression - 101
 ldd _skip
 lbne L25
* Begin expression - 101
 ldx -13,y
 jsr [2,x]
 lbra L26
L25
* Begin expression - 102
 jsr _plinex
L26
 lbra L27
L24
* Begin expression - 105
 leax -11,y
 stx 0,s
 ldx #_iftab
 pshs x
 jsr _find_co
 tfr d,x
 leas 2,s
 stx -13,y
 lbeq L28
* Begin expression - 105
 ldx -13,y
 jsr [2,x]
 lbra L29
L28
* Begin expression - 107
 ldd _skip
 lbeq L30
* Begin expression - 107
 jsr _plinex
 lbra L31
L30
* Begin expression - 108
 ldd #137
 std 0,s
 jsr _non_fat
L31
L29
L27
L23
L19
L20 equ 13
 leas -2,y
 puls y,u,pc
 global _find_co
_find_co pshs u,y
 leay 2,s
 leas -L33,s
* Auto 4 t
* Auto 6 n
L34
* Begin expression - 128
 ldx 4,y
 ldx 0,x
 lbeq L35
* Begin expression - 129
 ldx 6,y
 stx 0,s
 ldx 4,y
 ldx 0,x
 pshs x
 jsr _strcmp
 leas 2,s
 cmpd #0
 lbne L36
* Begin expression - 129
 ldx 4,y
 lbra L32
L36
* Begin expression - 130
 ldx 4,y
 leax 4,x
 stx 4,y
 lbra L34
L35
* Begin expression - 132
 ldx #0
L32
L33 equ 2
 tfr x,d
 leas -2,y
 puls y,u,pc
 global _lookup
_lookup pshs u,y
 leay 2,s
 leas -L38,s
* Auto 4 t
* Auto 6 n
* Register 128 tp
* Auto -4 np
* Auto -6 ts
* Auto -7 chr
* Begin expression - 153
 ldx 4,y
 stx -6,y
L39
* Begin expression - 154
 ldx 4,y
 leax 2,x
 stx 4,y
 ldu -2,x
 lbeq L40
* Begin expression - 155
 ldx 6,y
 stx -4,y
L41
* Begin expression - 156
 ldx -4,y
 ldb 0,x+
 stx -4,y
 stb -7,y
 leau 1,u
 cmpb -1,u
 lbne L42
* Begin expression - 157
 cmpb #0
 lbne L43
* Begin expression - 157
 ldd 4,y
 subd -6,y
 asra
 rorb
 lbra L37
L43
 lbra L41
L42
 lbra L39
L40
* Begin expression - 160
 ldd #0
L37
L38 equ 7
 leas -2,y
 puls y,u,pc
 global _non_fat
_non_fat pshs u,y
 leay 2,s
 leas -L45,s
* Auto 4 errno
* Begin expression - 172
 ldd 4,y
 lbra L47
L48
L49
L50
* Begin expression - 175
 ldd _d_error
 lbne L51
* Begin expression - 176
 ldx _rline
 leax 2,x
 stx 0,s
 ldx _rline
 ldd [0,s]
 stx 0,s
 subd [0,s]
 lbeq L52
* Begin expression - 177
 ldx #L53
 stx 0,s
 jsr _pstrng
* Begin expression - 178
 ldx _rline
 ldx 0,x
 stx 0,s
 jsr _pstrng
L52
 lbra L55
L51
 lbra L46
L54
L55
* Begin expression - 182
 ldd 4,y
 std 0,s
 jsr _rptern
 lbra L46
L47
 ldx #L10003
 std L10002
L10001 cmpd 0,x++
 bne L10001
 jmp [L10002-L10003,x]
 data
L10003  fdb 142,141,139
L10002 fdb 0
 fdb L48,L49,L50,L55
 text
L46
L44
L45 equ 2
 leas -2,y
 puls y,u,pc
 data
L1 fcb 100,101,102,105,110,101,0
L2 fcb 105,110,99,108,117,100,101,0
L3 fcb 105,110,102,111,0
L4 fcb 116,115,116,109,112,0
L5 fcb 108,105,110,101,0
L6 fcb 117,110,100,101,102,0
L7 fcb 105,102,0
L8 fcb 105,102,100,101,102,0
L9 fcb 105,102,110,100,101,102,0
L10 fcb 101,108,115,101,0
L11 fcb 101,110,100,105,102,0
L53 fcb 35,100,101,102,105,110,101,32,0
 text
 end
