 name errorhan.c
 text
 global _error
_error pshs u,y
 leay 2,s
 leas -L2,s
* Auto 4 n
* Begin expression - 25
 jsr _abort
* Begin expression - 26
 ldd 4,y
 std 0,s
 jsr _rptern
* Begin expression - 27
 ldd #255
 std 0,s
 jsr _exit
L1
L2 equ 2
 leas -2,y
 puls y,u,pc
 global _rptern
_rptern pshs u,y
 leay 2,s
 leas -L4,s
* Auto 4 n
* Register 128 m
* Auto -4 print_s
* Begin expression - 40
 ldd #0
 std -4,y
* Begin expression - 42
 ldu #0
* Begin expression - 43
 ldd 4,y
 lbra L6
L7
* Begin expression - 44
 jsr _pfile
* Begin expression - 45
 ldd _errno
 std 0,s
 jsr _p_sys_e
 lbra L5
L8
* Begin expression - 47
 ldu #L9
 lbra L5
L10
* Begin expression - 49
 ldu #L11
 lbra L5
L12
* Begin expression - 51
 ldu #L13
 lbra L5
L14
* Begin expression - 53
 ldu #L15
 lbra L5
L16
* Begin expression - 55
 ldu #L17
  bra L5
L18
* Begin expression - 57
 ldu #L19
  bra L5
L20
* Begin expression - 59
 ldu #L21
  bra L5
L22
* Begin expression - 61
 ldu #L23
  bra L5
L24
* Begin expression - 63
 ldu #L25
  bra L5
L26
* Begin expression - 65
 ldu #L27
  bra L5
L28
* Begin expression - 67
 ldu #L29
  bra L5
L30
* Begin expression - 69
 ldu #L31
  bra L5
L32
* Begin expression - 71
 ldu #L33
  bra L5
L34
* Begin expression - 73
 ldu #L35
  bra L5
L36
* Begin expression - 75
 ldu #L37
  bra L5
L38
* Begin expression - 77
 ldu #L39
  bra L5
L40
* Begin expression - 79
 ldu #L41
  bra L5
L42
* Begin expression - 81
 ldu #L43
  bra L5
L44
* Begin expression - 83
 ldu #L45
  bra L5
L46
* Begin expression - 85
 jsr _pfile
* Begin expression - 86
 jsr _perr_li
* Begin expression - 87
 ldd 4,y
 std 0,s
 jsr _p_sys_e
* Begin expression - 88
 jsr _flush
* Begin expression - 89
 ldd #1
 std _fout
  bra L5
L6
 ldx #L10003
 std L10002
L10001 cmpd 0,x++
 bne L10001
 jmp [L10002-L10003,x]
 data
L10003  fdb 0,44,45,128,129,130,131,132,133,134,137,138,139,140,141,142
 fdb 143,145,146,136
L10002 fdb 0
 fdb L7,L8,L10,L12,L14,L16,L18,L20,L22,L24,L26,L28,L30,L32,L34,L36
 fdb L38,L40,L42,L44,L46
 text
L5
* Begin expression - 92
 cmpu #0
  beq L47
* Begin expression - 93
 ldd 4,y
  bra L49
L50
L51
L52
  bra L48
L53
* Begin expression - 98
 jsr _pfile
* Begin expression - 99
 jsr _perr_li
  bra L48
L49
 ldx #L10006
 std L10005
L10004 cmpd 0,x++
 bne L10004
 jmp [L10005-L10006,x]
 data
L10006  fdb 139,141,142
L10005 fdb 0
 fdb L50,L51,L52,L53
 text
L48
* Begin expression - 102
 stu 0,s
 jsr _to_std_
* Begin expression - 103
 ldd -4,y
  beq L54
* Begin expression - 103
 ldd _errno
 std 0,s
 jsr _p_sys_e
L54
L47
L3
L4 equ 4
 leas -2,y
 puls y,u,pc
 global _p_sys_e
_p_sys_e pshs u,y
 leay 2,s
 leas -L56,s
* Auto 4 n
* Auto -258 m_buf
* Auto -260 fd
* Begin expression - 120
 ldd #-1
 std -260,y
* Auto -262 good
* Begin expression - 121
 ldd #0
 std -262,y
* Auto -264 i
* Begin expression - 125
 ldb #0
 stb -3,y
 stb -258,y
* Begin expression - 126
 ldd 4,y
 lbeq L57
* Begin expression - 131
 ldd #0
 std 0,s
 ldx #L59
 pshs x
 jsr _open
 leas 2,s
 std -260,y
 cmpd #-1
 lbeq 10f
 ldd 4,y
 cmpd #64
 lbge 10f
 ldd #0
 std 0,s
 ldd 4,y
 lslb
 rola
 pshs d
 tsta
 bmi 1f
 ldd #0
 bra 2f
1 ldd #$ffff
2 pshs d
 ldd -260,y
 pshs d
 jsr _lseek
 leas 6,s
 ldd #-1
 pshs d
 bmi 1f
 ldd #0
 bra 2f
1 ldd #$ffff
2 pshs d
 jsr pshlong
 jsr cmplong
 beq 10f
 ldd #2
 std 0,s
 leax -264,y
 pshs x
 ldd -260,y
 pshs d
 jsr _read
 leas 4,s
 cmpd #2
 bne 10f
 ldd #0
 std 0,s
 ldd -264,y
 addd #2
 pshs d
 ldd #0
 pshs d
 ldd -260,y
 pshs d
 jsr _lseek
 leas 6,s
 ldd #-1
 pshs d
 bmi 1f
 ldd #0
 bra 2f
1 ldd #$ffff
2 pshs d
 jsr pshlong
 jsr cmplong
  beq L58
 ldd #255
 std 0,s
 leax -258,y
 pshs x
 ldd -260,y
 pshs d
 jsr _read
 leas 4,s
 cmpd #0
10
  ble L58
* Begin expression - 131
 ldd #1
 std -262,y
L58
* Begin expression - 133
 ldd -262,y
  beq L60
* Begin expression - 133
 leax -258,y
 stx 0,s
 ldx #L61
 pshs x
 ldd #2
 pshs d
 jsr _printf
 leas 4,s
  bra L62
L60
* Begin expression - 134
 ldd 4,y
 std 0,s
 ldx #L63
 pshs x
 ldd #2
 pshs d
 jsr _printf
 leas 4,s
L62
* Begin expression - 135
 jsr _flush
* Begin expression - 136
 ldd #1
 std _fout
* Begin expression - 137
 ldd -260,y
 cmpd #-1
  beq L64
* Begin expression - 137
 std 0,s
 jsr _close
L64
L57
L55
L56 equ 264
 leas -2,y
 puls y,u,pc
 data
L9 fcb 42,42,42,32,67,111,110,115,116,97,110,116,32,111,114,32
 fcb 108,101,102,116,32,112,97,114,101,110,116,104,101,115,105,115
 fcb 32,101,120,112,101,99,116,101,100,46,13,0
L11 fcb 42,42,42,32,82,105,103,104,116,32,112,97,114,101,110,116
 fcb 104,101,115,105,115,32,101,120,112,101,99,116,101,100,46,13
 fcb 0
L13 fcb 42,42,42,32,77,101,109,111,114,121,32,111,118,101,114,102
 fcb 108,111,119,46,13,0
L15 fcb 42,42,42,32,70,111,114,109,97,116,32,101,114,114,111,114
 fcb 32,105,110,32,34,105,110,99,108,117,100,101,34,32,102,105
 fcb 108,101,32,110,97,109,101,46,13,0
L17 fcb 34,73,110,99,108,117,100,101,34,32,102,105,108,101,32,110
 fcb 111,116,32,102,111,117,110,100,46,13,0
L19 fcb 42,42,42,32,70,111,114,109,97,116,32,101,114,114,111,114
 fcb 32,105,110,32,100,101,102,105,110,105,116,105,111,110,32,110
 fcb 97,109,101,0
L21 fcb 42,42,42,32,70,111,114,109,97,116,32,101,114,114,111,114
 fcb 32,105,110,32,110,97,109,101,32,105,110,32,34,105,102,34
 fcb 32,115,116,97,116,101,109,101,110,116,46,13,0
L23 fcb 42,42,42,32,34,69,110,100,105,102,34,32,119,105,116,104
 fcb 111,117,116,32,97,32,109,97,116,99,104,105,110,103,32,34
 fcb 105,102,34,46,13,0
L25 fcb 42,42,42,32,34,69,108,115,101,34,32,119,105,116,104,111
 fcb 117,116,32,97,32,109,97,116,99,104,105,110,103,32,34,105
 fcb 102,34,46,13,0
L27 fcb 42,42,42,32,85,110,107,110,111,119,110,32,112,114,101,112
 fcb 114,111,99,101,115,115,111,114,32,99,111,109,109,97,110,100
 fcb 46,13,0
L29 fcb 42,42,42,32,68,117,112,108,105,99,97,116,101,32,100,101
 fcb 102,105,110,105,116,105,111,110,46,13,0
L31 fcb 42,42,42,32,70,111,114,109,97,116,32,101,114,114,111,114
 fcb 32,105,110,32,39,68,39,32,111,112,116,105,111,110,32,110
 fcb 97,109,101,46,13,0
L33 fcb 42,42,42,32,77,105,115,115,105,110,103,32,39,41,39,32
 fcb 97,102,116,101,114,32,109,97,99,114,111,32,97,114,103,117
 fcb 109,101,110,116,32,108,105,115,116,46,13,0
L35 fcb 42,42,42,32,77,105,115,115,105,110,103,32,39,41,39,32
 fcb 97,102,116,101,114,32,97,114,103,117,109,101,110,116,32,108
 fcb 105,115,116,32,105,110,32,39,68,39,32,111,112,116,105,111
 fcb 110,46,13,0
L37 fcb 42,42,42,32,68,117,112,108,105,99,97,116,101,32,100,101
 fcb 102,105,110,105,116,105,111,110,32,105,110,32,39,68,39,32
 fcb 111,112,116,105,111,110,46,13,0
L39 fcb 42,42,42,32,77,105,115,115,105,110,103,32,34,101,110,100
 fcb 105,102,34,46,13,0
L41 fcb 42,42,42,32,77,97,99,114,111,32,114,101,99,117,114,115
 fcb 105,111,110,32,100,101,112,116,104,32,101,120,99,101,101,100
 fcb 101,100,46,13,0
L43 fcb 42,42,42,32,77,97,99,114,111,32,112,97,114,97,109,101
 fcb 116,101,114,32,115,117,98,115,116,105,116,117,116,105,111,110
 fcb 32,101,114,114,111,114,46,13,0
L45 fcb 42,42,42,32,86,97,114,105,97,98,108,101,32,102,111,117
 fcb 110,100,32,105,110,32,34,105,102,34,32,101,120,112,114,101
 fcb 115,115,105,111,110,46,13,0
L59 fcb 47,103,101,110,47,101,114,114,111,114,115,47,115,121,115,116
 fcb 101,109,0
L61 fcb 37,115,13,0
L63 fcb 83,121,115,116,101,109,32,101,114,114,111,114,32,99,111,100
 fcb 101,58,32,37,100,13,0
 text
 end
