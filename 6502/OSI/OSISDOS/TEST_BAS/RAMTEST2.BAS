 10 REM RAMTEST2.BAS
 20 REM LINES 100- TEST FIRST 4KB BANK
 30 REM 1000- TEST EACK BANK
 100 REM TEST FIRST 4KB BANK
 110 REM UPPER MEMORY IS 4KB FROM $E000-$EFFF (57344-61439 DEC)
 120 S=57344:REM START OF SRAM BANK
 130 E=61439:REM END OF SRAM BANK
 140 B=61445:REM BANK SELECT REGISTER
 150 GOSUB 1000
 160 GOSUB 2000
 170 END
 1000 REM TEST SINGLE BANK
 1110 REM UPPER MEMORY IS 4KB FROM $E000-$EFFF (57344-61439 DEC)
 1150 FOR V=0 TO 15:REM CHECK ALL 16 BANKS
 1160 POKE B,V:REM WRITE TO BANK REGISTER
 1170 POKE S,V:REM WRITE THE BANK NUMBER TO FIRST SRAM LOCATION
 1180 NEXT V
 1200 FOR V=0 TO 15:REM CHECK ALL 16 BANKS
 1210 POKE B,V:REM WRITE TO BANK REGISTER
 1220 R=PEEK(S):REM READ BACK THE SRAM
 1230 IF R<>V GOTO 1300: COMPARE TO VALUE WRITTEN
 1230 NEXT V
 1240 PRINT "PASSED-BANK REGISTER TEST"
 1250 RETURN
 1260 PRINT "ERROR-FAILED BANK REGISTER TEST"
 1270 END
 2000 POKE B,0:REM FIRST BANK
 2160 PV=0
 2170 FOR V=S TO E:REM CHECK 4KB
 2180 PV=(PV AND 255)
 2190 POKE V,PV
 2200 PV=PV+1
 2210 NEXT V
 2220 PV=0
 2230 FOR V=S TO E
 2240 PV=PV AND 255
 2250 RV=PEEK(V):REM READ BACK THE SRAM
 2260 IF PV<>RV THEN GOTO 2900:REM COMPARE TO VALUE WRITTEN
 2270 PV=PV+1
 2280 NEXT V
 2290 PRINT "PASSED-4K FILL/READ"
 2300 RETURN
 2900 PRINT "FAILED-4K FILL/READ"
 2910 END
 