LABEL,OPCODE,REG_LABEL,OFFSET_ADDR,COMMENT
INIT,LRI,0X00,0X03,RESET TERMINAL COMMAND
,IOW,0X00,0X02,WRITE VDU CMD REG
,LRI,0X00,0X03,RESET UART COMMAND
,IOW,0X00,0X00,WRITE UART CMD REG
,LRI,0X00,0X20,TX CTRLS RTS
,IOW,0X00,0X02,WRITE VDU CMD REG
,LRI,0X00,0X0C,SCREEN CLEAR
,IOW,0X00,0X03,WRITE OUT SCREEN
,LRI,0X00,0X20,TX CTRLS RTS
,IOW,0X00,0X00,WRITE UART CMD REG
START,JSR,KB2PDP,,KEYBOARD TO PDP-8
,JSR,PDP2VDU,,PDP-8 TO VGA
,JMP,START,,LOOP FOREVER
KB2PDP,IOR,0X00,0X04,READ KBD STATUS
,ARI,0X00,0X01,MASK RX DATA PRESENT BIT
,BEZ,NOKDBD,,NO KBD DATA
,IOR,0X00,0X05,READ KBD DATA
,ORI,0X00,0X80,MARK PARITY
,IOW,0X00,0X01,WRITE TO UART DATA
NOKDBD,RTS,,,DONE KEYBOARD TO UART
PDP2VDU,IOR,0X00,0X00,PDP-11 TO VDU
,ARI,0X00,0X01,MASK RX DATA PRESENT BIT
,BEZ,NOPDPD,,NO UART DATA
,IOR,0X00,0X01,READ UART DATA
,ARI,0X00,0X7F,8 TO 7 BITS
,IOW,0X00,0X03,WRITE OUT SCREEN
NOPDPD,RTS,,,DONE UART TO VGA
