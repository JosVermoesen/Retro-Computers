From e407cca191a693c15ca7729b213e9a300c7ed96f Mon Sep 17 00:00:00 2001
From: Christian Zietz <czietz@gmx.net>
Date: Sun, 7 May 2017 14:03:58 +0100
Subject: [PATCH 4/9] Remove bios_unimpl and bios_do_unimpl functions now that
 all BIOS functions are implemented

---
 bios/bios.c    | 18 ------------------
 bios/vectors.S |  7 -------
 2 files changed, 25 deletions(-)

diff --git a/bios/bios.c b/bios/bios.c
index 07dae46..c277216 100644
--- a/bios/bios.c
+++ b/bios/bios.c
@@ -1062,24 +1062,6 @@ static LONG bios_b(WORD flag)
 #endif
 
 
-/*
- * bios_unimpl
- *
- * ASM function _bios_unimpl will call bios_do_unimpl(WORD number);
- * with the function number passed as parameter.
- */
-
-LONG bios_do_unimpl(WORD number)
-{
-    KINFO(("unimplemented BIOS function 0x%02x\n", number));
-    return number;
-}
-
-extern LONG bios_unimpl(void);
-
-
-
-
 /**
  * bios_vecs - the table of bios command vectors.
  */
diff --git a/bios/vectors.S b/bios/vectors.S
index 8cc7b69..ee379f6 100644
--- a/bios/vectors.S
+++ b/bios/vectors.S
@@ -19,7 +19,6 @@
         .globl  _gemtrap        // call VDI/AES
         .globl  _biostrap       // call BIOS from C
         .globl  _xbiostrap      // call XBIOS from C
-        .globl  _bios_unimpl
         .globl  _xbios_unimpl
 
         .globl  _check_read_byte
@@ -1130,12 +1129,6 @@ bx_nolong2:
  * The requested BIOS/XBIOS function number is in d0.
  */
 
-_bios_unimpl:
-       move.w   d0,-(sp)
-       jsr      _bios_do_unimpl
-       addq.l   #2,sp
-       rts
-
 _xbios_unimpl:
        move.w   d0,-(sp)
        jsr      _xbios_do_unimpl
-- 
2.8.2.windows.1

