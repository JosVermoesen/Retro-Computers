From 5ada01767948bd073dc4587c634f0493485bcee8 Mon Sep 17 00:00:00 2001
From: czietz <czietz@gmx.net>
Date: Mon, 18 Feb 2019 18:07:17 +0000
Subject: [PATCH 3/4] Remove dead assignments to local variables that were
 previously optimized by gcc's optimizer

---
 aes/gemctrl.c   | 1 -
 bios/ide.c      | 2 +-
 bios/initinfo.c | 2 +-
 desk/deskfun.c  | 2 +-
 desk/deskins.c  | 2 +-
 5 files changed, 4 insertions(+), 5 deletions(-)

diff --git a/aes/gemctrl.c b/aes/gemctrl.c
index a4f2e310..09300006 100644
--- a/aes/gemctrl.c
+++ b/aes/gemctrl.c
@@ -234,7 +234,6 @@ static void hctl_rect(void)
 
     if ( gl_mntree )
     {
-        mesag = 0;
         if ( mn_do(&title, &item) )
         {
             owner = gl_mnppd;
diff --git a/bios/ide.c b/bios/ide.c
index 0569d782..bfaef07b 100644
--- a/bios/ide.c
+++ b/bios/ide.c
@@ -996,7 +996,7 @@ static LONG ide_write(UBYTE cmd,UWORD ifnum,UWORD dev,ULONG sector,UWORD count,U
 
 LONG ide_rw(WORD rw,LONG sector,WORD count,UBYTE *buf,WORD dev,BOOL need_byteswap)
 {
-    UBYTE *p = buf;
+    UBYTE *p;
     UWORD ifnum;
     WORD maxsecs_per_io = MAXSECS_PER_IO;
     BOOL use_tmpbuf = FALSE;
diff --git a/bios/initinfo.c b/bios/initinfo.c
index 5b43ee04..6bef69c7 100644
--- a/bios/initinfo.c
+++ b/bios/initinfo.c
@@ -262,7 +262,7 @@ WORD initinfo(ULONG *pshiftbits)
     int actual_initinfo_height;
 #endif
     int i;
-    WORD olddev = -1, dev = bootdev;
+    WORD olddev, dev = bootdev;
     long stramsize = (long)phystop;
 #if CONF_WITH_ALT_RAM
     long altramsize = total_alt_ram();
diff --git a/desk/deskfun.c b/desk/deskfun.c
index cf7bb0c3..c8b6cca5 100644
--- a/desk/deskfun.c
+++ b/desk/deskfun.c
@@ -867,7 +867,7 @@ void fun_del(WORD sobj)
      * if the item selected is on the desktop, there may be other desktop
      * items that have been selected; make sure we process all of them
      */
-    if ( (pa = i_find(DESKWH, sobj, NULL, NULL)) )
+    if ( (i_find(DESKWH, sobj, NULL, NULL)) )
     {
         if (wants_to_delete_files() == FALSE)   /* i.e. remove icons or cancel */
             return;
diff --git a/desk/deskins.c b/desk/deskins.c
index 9705ad9a..2dcfc3c7 100644
--- a/desk/deskins.c
+++ b/desk/deskins.c
@@ -1073,7 +1073,7 @@ WORD ins_icon(WORD sobj)
     /*
      * handle one or more desktop icons
      */
-    if ( (pa = i_find(DESKWH, sobj, NULL, NULL)) )
+    if ( (i_find(DESKWH, sobj, NULL, NULL)) )
     {
         for ( ; sobj; sobj = win_isel(G.g_screen, DROOT, sobj))
         {
-- 
2.17.0.windows.1

