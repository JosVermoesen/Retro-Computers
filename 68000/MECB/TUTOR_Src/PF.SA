PF       IDNT      1,1       "PFCMD", Port format                    05/19/82         XDEF      PFCMD SPC 1         XREF.S    CRPADS                                            1,1         XREF      FIXBUF         XREF      FIXDADD                                           1,1         XREF      FIXDATA         XREF      FIXDCRLF         XREF      GETNUMA         XREF      INITSER         XREF.S    MD1CON                                            1,1         XREF      MSG         XREF.S    NULLPADS                                          1,1         XREF.S    OPTIONS                                           1,1         XREF      OUTPUT         XREF      PNT2HX         XREF      PNT6HX                                            1,1         XREF      PORTIN1CR       EQU       $D                                                1,1LF       EQU       $A                                                1,1EOT      EQU       4 SPC 2         SECTION   11 SPC 1* **PF**   PF      DISPLAY PORT PROFILE*          PF1     DISPLAY/CHANGE PORT 1*          PF2     DISPLAY/CHANGE PORT 2*PFCMD    MOVE.B    (A5),D6   D6 = PORT #         CMP.B     #'1',D6         BEQ.S     PFCMD1    CHANGE PORT 1         CMP.B     #'2',D6         BEQ.S     PFCMD1    CHANGE PORT 2 SPC 1         LEA       MD1CON,A1            PRINT BOTH PORTS         LEA       MSG003(PC),A5         BSR.S     PFPT      DISPLAY/CHANGE         BSR       OUTPUT SPC 1         LEA       NULLPADS,A1         LEA       MSG004(PC),A5         BSR.S     PFPT         BSR       OUTPUT SPC 1         LEA       CRPADS,A1         LEA       MSG005(PC),A5         BSR.S     PFPT         LEA       MSG031(PC),A5       TELL WHERE XONOFF IS          1,1         BSR       FIXDADD             .                             1,1         MOVE.L    #OPTIONS,D0         .                              1,1         BSR       PNT6HX              "OPTIONS@AAAAAA"               1,1         BRA       MSG SPC 1PFPT     BSR       FIXDCRLF  FORMAT FROM A5         MOVE.B    (A1),D0         BSR       PNT2HX    FORMAT DATA         MOVE.B    #' ',(A6)+      SPACE         MOVE.B    1(A1),D0         BSR       PNT2HX    FORMAT DATA PORT 2         RTS  SPC 2PFCMD1   LEA       MD1CON,A1         LEA       MSG003(PC),A5         BSR.S     PFCH      DISPLAY/CHANGE SPC 1         LEA       NULLPADS,A1         LEA       MSG004(PC),A5         BSR.S     PFCH SPC 1         LEA       CRPADS,A1         LEA       MSG005(PC),A5         BSR.S     PFCH         BSR       INITSER          PLACE NEW SBITS INTO ACIA         BSR       FIXBUF              BLANK LINE FOR SPACING         BRA       MSG SPC 1PFCH     BSR       FIXDATA   FORMAT FROM A5         CMP.B     #'1',D6         BEQ.S     PFCH2     PORT 1         ADD.L     #1,A1     PORT 2PFCH2    MOVE.B    (A1),D0         BSR       PNT2HX    FORMAT DATA         MOVE.B    #'?',(A6)+         BSR       OUTPUT    SPC 1         BSR       PORTIN1   INPUT LINE         CMP.L     A5,A6         BEQ.S     PFCH4     NOTHING INPUT SPC 1         BSR       GETNUMA         MOVE.B    D0,(A1)PFCH4    RTS     SPC 1MSG003   DC.B      'FORMAT=   ',EOT SPC 1MSG004   DC.B      'CHAR NULL=',EOT SPC 1MSG005   DC.B      'C/R  NULL=',EOT SPC 1MSG031   DC.B      CR,LF,'OPTIONS@',EOT                               1,1         END