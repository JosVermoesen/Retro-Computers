BF       IDNT      1,1       BF   Block Fill command                 06/16/82         XDEF      BFCMD SPC 1         XREF      CKWADR         XREF      FNEXTF         XREF      GETA         XREF      GETNUMA         XREF      MACSBUG         XREF      MM90         XREF      P2PHY         XREF      SYNTAX SPC 2         SECTION   11*  BLOCK FILL   ADDRESS1 ADDRESS2 WORD-DATA*BFCMD    LEA       SYNTAX(PC),A0         BSR       FNEXTF         BSR       GETA         BSR       CKWADR    CHECK WORD BOUNDRY ADDRESS         MOVE.L    D0,D6     D6 = FROM BEGIN ADDRESS                 1,1 SPC 1         BSR       FNEXTF         BSR       GETA         BSR       CKWADR    CHECK WORD BOUNDRY ADDRESS         MOVE.L    D0,A1     A1 = FROM END ADDRESS SPC 1         BSR       FNEXTF    FIND NEXT FIELD         BSR       GETNUMA   D0 = VALUE         MOVE.L    D0,D7 SPC 1         MOVE.L    D6,A0     A0 = FROM BEGIN ADDRESS                 1,1         BSR       P2PHY     DISPLAY ADDRESSES         CMP.L     A0,A1         BCS       SYNTAX    END ADDR TOO SMALL SPC 1         CMP.L     #$10000,D7         BCC       SYNTAX    WORD OVERFLOW SPC 1BFCMD11         MOVE.W    D7,(A0)   STORE DATA         MOVE.W    (A0)+,D1         CMP.W     D7,D1     VERIFY DATA         BNE       MM90      'DATA DID NOT STORE' SPC 1         CMP.L     A0,A1         BCC       BFCMD11         BRA       MACSBUG END