ARAM     IDNT      0,2       DATA VARIABLES                          05/10/82         XDEF      AV2         XDEF      AV3         XDEF      AV4         XDEF      AV8         XDEF      AV9         XDEF      AV11         XDEF      AV12         XDEF      AV24         XDEF      AV31         XDEF      AV46         XDEF      AV47         XDEF      AV48         XDEF      REGPC     USERS PROGRAM COUNTER         XDEF      REGSR    USERS CONDITION CODES         XDEF      REGS     D REGISTERS         XDEF      REGA7    A7 REGISTER         XDEF      REGUS    USER STACK         XDEF      BEGHRAM         XDEF      OFFSET   ASSUMED OFFSETS (VIA "R@" FORMAT)         XDEF      MEMSIZE  MEMORY SIZE IN BYTES         XDEF      BPADD    BREAKPOINT ADDRESSES         XDEF      BPTILL   TEMPORARY BREAKPOINT         XDEF      BPCNT    BREAKPOINT COUNTS         XDEF      BPDATA   HOLD USER WORDS REPLACED BY TRAP IN SET BP         XDEF      BERRD         XDEF      SAVEAV4  HOLDS USER'S AV4 VECTOR (WE USE FOR BP)         XDEF      TEMP                TEMP STORAGE         XDEF      TRACECNT DS.L 1  TRACE COUNTER (-1=TRACE 1 & RUN)         XDEF      TRACEON   FLAG FOR TRACE ON         XDEF      BPSTATUS  1=PB ARE IN  0=ARE OUT OF MEMORY         XDEF      ECHOPT1   ECHO FLAG TO PORT ONE         XDEF      OPTIONS         XDEF      XONOFF         XDEF      TMCHARS         XDEF      SSA7         XDEF      ENDHRAM           MUST START ON WORD BOUNDRY         XDEF      BUFFER         XDEF      SYSTACK*****************************************************************  N O T E:  Ram locations:   starting at zero                 ***************************************************************** SPC 2         OFFSET    0*                  DEC HEX  DESCRIPTION      DS.L 1       0   $00  AREA OVERLAID BY ROM SR      DS.L 1       1   $01  AND PC SPC 2AV2   DS.L 1       2   $02  BUS ERROR            "BUS "AV3   DS.L 1       3   $03  ADDRESS ERROR        "ADDR"AV4   DS.L 1       4   $04  ILL INSTRUCTION      "OPCO"      DS.L 1       5   $05  DIVIDE BY ZERO       "DIV0"      DS.L 1       6   $06  CHECK TRAP           "CHCK"      DS.L 1       7   $07  TRAP V               "TP V"AV8   DS.L 1       8   $08  PRIVILEDGE VIOLATION "PRIV"AV9   DS.L 1       9   $09  TRACE      DS.L 1       10  $0A  1010 LINE EMULATION  "1010"AV11  DS.L 1       11  $0B  1111 LINE EMULATION  "1111"AV12  DS.L 1       12  $0C  USED AS TEMPORARY STORAGE FOR VECTOR MSGS.      DS.L 1       13  $0D  NOT USED      DS.L 1       14  $0E      DS.L 1       15  $0F      DS.L 1       16  $10      DS.L 1       17  $11      DS.L 1       18  $12      DS.L 1       19  $13      DS.L 1       20  $14      DS.L 1       21  $15      DS.L 1       22  $16      DS.L 1       23  $17AV24  DS.L 1       24  $18   0  AUTO VECTORS     "SPUR"      DS.L 1       25  $19   1                   "AV#1"      DS.L 1       26  $1A   2                   "AV#2"   TEST BUTTON      DS.L 1       27  $1B   3                   "AV#3"      DS.L 1       28  $1C   4                   "AV#4"      DS.L 1       29  $1D   5                   "AV#5"      DS.L 1       30  $1E   6                   "AV#6"AV31  DS.L 1       31  $1F   7                   "AV#7   [ABORT BUTTON]      DS.L 1       32  $20   TRAP  0             "UT 0"      DS.L 1       33  $21   TRAP  1             "UT 1"      DS.L 1       34  $22   TRAP  2             "UT 2"      DS.L 1       35  $23   TRAP  3             "UT 3"      DS.L 1       36  $24   TRAP  4             "UT 4"      DS.L 1       37  $25   TRAP  5             "UT 5"      DS.L 1       38  $26   TRAP  6             "UT 6"      DS.L 1       39  $27   TRAP  7             "UT 7"      DS.L 1       40  $28   TRAP  8             "UT 8"      DS.L 1       41  $29   TRAP  9             "UT 9"      DS.L 1       42  $2A   TRAP 10             "UT A"      DS.L 1       43  $2B   TRAP 11             "UT B"      DS.L 1       44  $2C   TRAP 12             "UT C"      DS.L 1       45  $2D   TRAP 13             "UT D"AV46  DS.L 1       46  $2E   TRAP 14             "UT E"AV47  DS.L 1       47  $2F   TRAP 15             "UT F"AV48  DS.L 1       48  $30      DS.L 1       49  $31      DS.L 1       50  $32      DS.L 1       51  $33      DS.L 1       52  $34      DS.L 1       53  $35      DS.L 1       54  $36      DS.L 1       55  $37      DS.L 1       56  $38      DS.L 1       57  $39      DS.L 1       58  $3A      DS.L 1       59  $3B      DS.L 1       60  $3C      DS.L 1       61  $3D      DS.L 1       62  $3E      DS.L 1       63  $3F      DS.L 1       64  $40      DS.L 1       65  $41      DS.L 1       66  $42      DS.L 1       67  $43      DS.L 1       68  $44      DS.L 1       69  $45      DS.L 1       70  $46      DS.L 1       71  $47      DS.L 1       72  $48      DS.L 1       73  $49      DS.L 1       74  $4A      DS.L 1       75  $4B      DS.L 1       76  $4C      DS.L 1       77  $4D      DS.L 1       78  $4E      DS.L 1       79  $4F      DS.L 1       80  $50      DS.L 1       81  $51      DS.L 1       82  $52      DS.L 1       83  $53      DS.L 1       84  $54      DS.L 1       85  $55      DS.L 1       86  $56      DS.L 1       87  $57      DS.L 1       88  $58      DS.L 1       89  $59      DS.L 1       90  $5A      DS.L 1       91  $5B      DS.L 1       92  $5C      DS.L 1       93  $5D      DS.L 1       94  $5E      DS.L 1       95  $5F      DS.L 1       96  $60      DS.L 1       97  $61      DS.L 1       98  $62      DS.L 1       99  $63      DS.L 1       100  $64      DS.L 1       101  $65      DS.L 1       102  $66      DS.L 1       103  $67      DS.L 1       104  $68      DS.L 1       105  $69      DS.L 1       106  $6A      DS.L 1       107  $6B      DS.L 1       108  $6C      DS.L 1       109  $6D      DS.L 1       110  $6E      DS.L 1       111  $6F      DS.L 1       112  $70      DS.L 1       113  $71      DS.L 1       114  $72      DS.L 1       115  $73      DS.L 1       116  $74      DS.L 1       117  $75      DS.L 1       118  $76      DS.L 1       119  $77      DS.L 1       120  $78      DS.L 1       121  $79      DS.L 1       122  $7A      DS.L 1       123  $7B      DS.L 1       124  $7C      DS.L 1       125  $7D      DS.L 1       126  $7E      DS.L 1       127  $7F      DS.L 1       128  $80      DS.L 1       129  $81      DS.L 1       130  $82      DS.L 1       131  $83      DS.L 1       132  $84      DS.L 1       133  $85      DS.L 1       134  $86      DS.L 1       135  $87      DS.L 1       136  $88      DS.L 1       137  $89      DS.L 1       138  $8A      DS.L 1       139  $8B      DS.L 1       140  $8C      DS.L 1       141  $8D      DS.L 1       142  $8E      DS.L 1       143  $8F      DS.L 1       144  $90      DS.L 1       145  $91      DS.L 1       146  $92      DS.L 1       147  $93      DS.L 1       148  $94      DS.L 1       149  $95      DS.L 1       150  $96      DS.L 1       151  $97      DS.L 1       152  $98      DS.L 1       153  $99      DS.L 1       154  $9A      DS.L 1       155  $9B      DS.L 1       156  $9C      DS.L 1       157  $9D      DS.L 1       158  $9E      DS.L 1       159  $9F      DS.L 1       160  $A0      DS.L 1       161  $A1      DS.L 1       162  $A2      DS.L 1       163  $A3      DS.L 1       164  $A4      DS.L 1       165  $A5      DS.L 1       166  $A6      DS.L 1       167  $A7      DS.L 1       168  $A8      DS.L 1       169  $A9      DS.L 1       170  $AA      DS.L 1       171  $AB      DS.L 1       172  $AC      DS.L 1       173  $AD      DS.L 1       174  $AE      DS.L 1       175  $AF      DS.L 1       176  $B0      DS.L 1       177  $B1      DS.L 1       178  $B2      DS.L 1       179  $B3      DS.L 1       180  $B4      DS.L 1       181  $B5      DS.L 1       182  $B6      DS.L 1       183  $B7      DS.L 1       184  $B8      DS.L 1       185  $B9      DS.L 1       186  $BA      DS.L 1       187  $BB      DS.L 1       188  $BC      DS.L 1       189  $BD      DS.L 1       190  $BE      DS.L 1       191  $BF      DS.L 1       192  $C0      DS.L 1       193  $C1      DS.L 1       194  $C2      DS.L 1       195  $C3      DS.L 1       196  $C4      DS.L 1       197  $C5      DS.L 1       198  $C6      DS.L 1       199  $C7      DS.L 1       200  $C8      DS.L 1       201  $C9      DS.L 1       202  $CA      DS.L 1       203  $CB      DS.L 1       204  $CC      DS.L 1       205  $CD      DS.L 1       206  $CE      DS.L 1       207  $CF      DS.L 1       208  $D0      DS.L 1       209  $D1      DS.L 1       210  $D2      DS.L 1       211  $D3      DS.L 1       212  $D4      DS.L 1       213  $D5      DS.L 1       214  $D6      DS.L 1       215  $D7      DS.L 1       216  $D8      DS.L 1       217  $D9      DS.L 1       218  $DA      DS.L 1       219  $DB      DS.L 1       220  $DC      DS.L 1       221  $DD      DS.L 1       222  $DE      DS.L 1       223  $DF      DS.L 1       224  $E0      DS.L 1       225  $E1      DS.L 1       226  $E2      DS.L 1       227  $E3      DS.L 1       228  $E4      DS.L 1       229  $E5      DS.L 1       230  $E6      DS.L 1       231  $E7      DS.L 1       232  $E8      DS.L 1       233  $E9      DS.L 1       234  $EA      DS.L 1       235  $EB      DS.L 1       236  $EC      DS.L 1       237  $ED      DS.L 1       238  $EE      DS.L 1       239  $EF      DS.L 1       240  $F0      DS.L 1       241  $F1      DS.L 1       242  $F2      DS.L 1       243  $F3      DS.L 1       244  $F4      DS.L 1       245  $F5      DS.L 1       246  $F6      DS.L 1       247  $F7      DS.L 1       248  $F8      DS.L 1       249  $F9      DS.L 1       250  $FA             .      DS.L 1       251  $FB             .      DS.L 1       252  $FC             .      DS.L 1       253  $FD            3RD      DS.L 1       254  $FE            2ND      DS.L 1       255  $FF VECTOR FOR 1ST IPC DISK CONTROLLER PAGE      SECTION.S    0 SPC 1**    PSUEDO REGISTERS*REGPC    DS.L 1  USERS PROGRAM COUNTERREGSR    DS.L 1  USERS CONDITION CODESREGS     DS.L 8  D REGISTERS         DS.L 7  A0 THROUGH A6 REGISTERSREGA7    DS.L 1  A7 REGISTERREGUS    DS.L 1  USER STACK PAGE**************************************************************              WORKING STORAGE                              **  NOTE: SUBROUTINE "INITHRAM" ZEROES          RAM...       **        FROM "BEGHRAM" THROUGH "ENDHRAM" WHEN IT IS EXECUTED  **************************************************************BEGHRAM  DS        0         INITIALIZE STARTS HEREOFFSET   DS.L 8  ASSUMED OFFSETS (VIA "R@" FORMAT)MEMSIZE  DS.L 1  MEMORY SIZE IN BYTESBPADD    DS.L 8  BREAKPOINT ADDRESSESBPTILL   DS.L 1  TEMPORARY BREAKPOINTBPCNT    DS.L 9  BREAKPOINT COUNTSBPDATA   DS.W 9  HOLD USER WORDS REPLACED BY TRAP IN SET BPBERRD    DS.L 2  SPECIAL DATA FOR BUS AND ADDR ERROR EXCEPTIONSSAVEAV4  DS.L 1  HOLDS USER'S AV4 VECTOR (WE USE FOR BP)TEMP     DS.L      1         TEMPTRACECNT DS.L 1  TRACE COUNTER (-1=TRACE 1 & RUN)TRACEON  DS.W 1  FLAG FOR TRACE ONBPSTATUS DS.W 1  1=PB ARE IN  0=ARE OUT OF MEMORYECHOPT1  DS.L      1         ECHO FLAG TO PORT ONE SPC 4* THE FOLLOWING MUST REAMIN AS IS*  User docomentation DEPENDS upon it!*OPTIONS  DS.W      0         FORCE WORD BOUNDRY         DS.B      1         X-ON CHARACTER         DS.B      1         X-OFF CHARACTER         DS.B      1         NO NO-AUTO LINEFEED         DS.B      1         SHORT FORM REGISTER DISPLAY         DS.B      1         TM  trailing character         DS.B      1         TM  exit characterXONOFF   EQU       OPTIONSTMCHARS  EQU       OPTIONS+4* END of as is section SPC 2**************************** TARGET SUPERVISOR STACK ****************************         DS.L      20SSA7     DS.L      1 PAGE*************** I/O BUFFER ***************BUFFSIZE EQU   128BUFFER   DS.B    BUFFSIZE SPC 2* OPTIONAL MODULES   "SECTION 1"   CODE APPENDS HERE SPC 3         SECTION.S 3         SECTION.S 4ENDHRAM  DS.W      0         MUST START ON WORD BOUNDRY********************** SYSTEM STACK AREA **********************         DS.W      0         FORCE ON WORD BOUNDRY         DS.B      300       ROOM FOR STACKSYSTACK  DS.W      1        START OF STACK (ADDRESS DECREASES)         DS.B      4         STRETCHED STACK (USED BY 'SAVE')         DS.B      120       EXTENDED AREA USED IF DISASSEMBLER SPC 1 END