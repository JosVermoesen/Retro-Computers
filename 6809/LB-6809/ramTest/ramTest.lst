                      ; ramTest.asm
                      ; Assembled with asm6809
                      ; Land Boards, LLC
                      ; Test RAM using LB-6809-01 on LB-MEM-02 card
                      
C000                                  ORG $C000
                      ; SET LED = LOW
C000  12              RESVEC  NOP
                      ; TEST WITH WRTE/READ OF ADDRESS $0000 AND VALUE OF $55
C001  8655                            LDA     #$55
C003  B70000                          STA     $0000
C006  12                              NOP
C007  F60000                          LDB     $0000
C00A  C155                            CMPB #$55
C00C  261F                            BNE     FASTBLINK
                      ; TEST WITH WRTE/READ OF ADDRESS $0000 AND VALUE OF $AA
C00E  86AA                            LDA     #$AA
C010  B70000                          STA     $0000
C013  12                              NOP
C014  F60000                          LDB     $0000
C017  C1AA                            CMPB #$AA
C019  2612                            BNE     FASTBLINK
                      ; BOUNCE A BIT ACROSS THE DATA LINES OF ADDR $0000
C01B  8601                            LDA #$01
C01D                  LOOP1ADR
C01D  B70000                          STA $0000
C020  12                              NOP
C021  B10000                          CMPA $0000
C024  2607                            BNE     FASTBLINK
C026  48                              ASLA
C027  8100                            CMPA #$00
C029  26F2                            BNE     LOOP1ADR
C02B  2021                            BRA     SLOWBLINK
                      ;
                      ; Slowly blink LED
                      ;
C02D                  FASTBLINK
C02D  4F                              CLRA
C02E  B7F000                          STA     $F000
                      ; WAIT LOOP
C031  8640                            LDA     #$40
C033                  LOOPX1
C033  C6FF                            LDB     #$FF
C035                  LOOPX1B
C035  12                              NOP
C036  5A                              DECB
C037  26FC                            BNE LOOPX1B
C039  4A                              DECA
C03A  26F7                            BNE     LOOPX1
                      ; SET LED = HIGH
C03C  8601                            LDA     #$1
C03E  B7F000                          STA     $F000
                      ; WAIT LOOP
C041  86FF                            LDA     #$FF
C043                  LOOPX2
C043  C640                            LDB     #$40
C045                  LOOPX2B
C045  12                              NOP
C046  5A                              DECB
C047  26FC                            BNE LOOPX2B
C049  4A                              DECA
C04A  26F7                            BNE     LOOPX2
                      ; LOOP FOREVER
C04C  20DF                            BRA     FASTBLINK
                      
                      ;
                      ; Slowly blink LED
                      ;
C04E                  SLOWBLINK
C04E  4F                              CLRA
C04F  B7F000                          STA     $F000
                      ; WAIT LOOP
C052  86FF                            LDA     #$FF
C054                  LOOP1
C054  C6FF                            LDB     #$FF
C056                  LOOP1B
C056  12                              NOP
C057  5A                              DECB
C058  26FC                            BNE LOOP1B
C05A  4A                              DECA
C05B  26F7                            BNE     LOOP1
                      ; SET LED = HIGH
C05D  8601                            LDA     #$1
C05F  B7F000                          STA     $F000
                      ; WAIT LOOP
C062  86FF                            LDA     #$FF
C064                  LOOP2
C064  C6FF                            LDB     #$FF
C066                  LOOP2B
C066  12                              NOP
C067  5A                              DECB
C068  26FC                            BNE LOOP2B
C06A  4A                              DECA
C06B  26F7                            BNE     LOOP2
                      ; LOOP FOREVER
C06D  20DF                            BRA     SLOWBLINK
                      
                      ; Reset vector
FFFE                                  ORG     $FFFE
FFFE  C000            LBFFE   FDB     RESVEC  ; RESET 
